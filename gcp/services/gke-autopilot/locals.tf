locals {
  config                   = yamldecode(file("../../config.yaml"))
  region                   = local.config.global.region
  name                     = local.config.gke.name
  network_name             = local.config.network.vpc_name
  subnet_name              = local.config.network.subnet_name
  ip_range_pods            = local.config.gke.ip_range_pods
  ip_range_services        = local.config.gke.ip_range_services
  cluster_description      = local.config.gke.cluster_description
  kubernetes_version       = local.config.gke.kubernetes_version
  release_channel          = local.config.gke.release_channel
  deletion_protection      = local.config.gke.deletion_protection
  cluster_labels           = local.config.gke.cluster_labels
  enable_private_nodes     = local.config.gke.enable_private_nodes
  enable_private_endpoint  = local.config.gke.enable_private_endpoint
  master_ipv4_cidr_block   = local.config.gke.master_ipv4_cidr_block
  master_global_access_enabled = local.config.gke.master_global_access_enabled
  deploy_using_private_endpoint  = local.config.gke.deploy_using_private_endpoint
  master_authorized_networks = local.config.gke.master_authorized_networks
  http_load_balancing     = local.config.gke.http_load_balancing
  horizontal_pod_autoscaling = local.config.gke.horizontal_pod_autoscaling
  dns_cache_config          = local.config.gke.dns_cache_enabled
  enable_vertical_pod_autoscaling = local.config.gke.enable_vertical_pod_autoscaling
  logging_enabled_components   = local.config.gke.logging_enabled_components
  monitoring_enabled_components = local.config.gke.monitoring_enabled_components
  enable_managed_prometheus    = local.config.gke.enable_managed_prometheus
  enable_shielded_nodes       = local.config.gke.enable_shielded_nodes
  database_encryption         = local.config.gke.database_encryption  
  identity_namespace = "${local.project_id}.svc.id.goog"
  maintenance_start_time  = local.config.gke.maintenance_window.start_time
  maintenance_end_time    = local.config.gke.maintenance_window.end_time  
  maintenance_recurrence  = local.config.gke.maintenance_window.recurrence
  maintenance_exclusions  = local.config.gke.maintenance_window.exclusions
  resource_usage_export_dataset_id   = local.config.gke.resource_usage_export.dataset_id
  enable_network_egress_export       = local.config.gke.resource_usage_export.enable_network_egress_export
  enable_resource_consumption_export = local.config.gke.resource_usage_export.enable_resource_consumption_export
  authenticator_security_group = local.config.gke.authenticator_security_group
  network_project_id = local.config.network.network_project_id

}    